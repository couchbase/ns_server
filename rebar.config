%% Top-level rebar.config drives the build of all of our applications and
%% dependencies. This configuration file is applied to all applications that we
%% compile.
%%
%% Rebar3 will, by default, compile all applications in
%% ["apps/*","lib/*","."], this configuration parameter is known as
%% project_app_dirs.

{deps, [
    {chronicle, {git, "https://github.com/couchbase/chronicle.git", {branch, "master"}}},
    {enacl, {git, "https://github.com/couchbasedeps/enacl.git", {branch, "couchbase-master"}}},
    {esaml, {git, "https://github.com/couchbasedeps/esaml.git", {branch, "couchbase-master"}}},
    {gen_smtp, {git, "https://github.com/couchbasedeps/gen_smtp.git", {branch, "couchbase-master"}}},
    {jiffy, {git, "https://github.com/couchbasedeps/jiffy.git", {branch, "couchbase-master"}}},
    {jose, "~> 1.11.11"},
    {iso8601, "~> 1.3.4"},
    {oidcc, "~> 3.6.0"}
]}.

{erl_opts, [{src_dirs, ["src"]}, debug_info, warnings_as_errors,
            {feature, maybe_expr, enable}]}.

{profiles, [
  {test, [
    {deps, [
      {meck, "0.9.2"},
      {triq, "1.3.0"}
    ]},

    {erl_opts, [{extra_src_dirs, ["test"]}]}
  ]}]}.
